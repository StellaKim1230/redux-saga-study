## redux
redux는 상태관리를 하기 위한 라이브러리이며, 3가지 규칙이 있다.
1. 하나의 APP, 하나의 Store
- 하나의 어플리케이션에는 하나의 스토어를 가지고 있고, 여기서 State를 꺼내 쓰는 방식이다.

2. 상태를 직접적으로 변화시키지 말아야 한다. 무조건 함수를 통해서만 변화를 시켜야 한다.
- State는 Action을 통해서 직접 변화시켜야 합니다. (Object.create나 Object.assign 등을 통해서 새로운 객체를 만들어서 주소를 변경해줘야 한다.)
- 리액트는 데이터가 immutable 하게 관리되어야 리렌더링이 일어난다.
- Dom의 주소를 Tree 구조로 가지고 있는데 이 변화를 각 노드의 메모리 주소의 변화를 통해 인지합니다. 따라서 State를 함수를 사용하지 않고 변경하면 메모리 주소가 변경되지 않을 수 있기 때문에 리렌더링이 일어나지 않을 수 있다.

3. 상태를 변경하는 함수는 순수해야 한다.
- 절대적으로 외부의 영향을 받으면 안된다. 같은 입력에 같은 출력을 반환해야 한다.

* store: React.js 프로젝트에서 사용하는 모든 동적 데이터를 담아두는 곳 ( 각각의 상태들을 한곳에서 관리할 수 있는 상태 저장소 )
* action: 어떤 변화가 일어나야 할 지 나타내는 객체 ( Store에 저장된 상태를 적절히 바꿔줄 수 있는 순수함수인 Reducer들이 모여있는 곳 )
* reducer: action 객체를 받았을 때, 데이터를 어떻게 바꿀지 처리할지 정의하는 객체.
-> 각각의 컴포넌트들은 Store의 상태를 사용해서 정보를 보여주고 유저가 버튼을 클릭하는 등의 행동을 할경우 Reducer을 통해서 State를 바꿔주는 형식이다.

### reducer는 순수함수여야 한다.
- redux에선 어플리케이션 state를 직접 변경하는것을 허용하지 않는다. action 객체를 처리하는 함수이다. action은 어떤 변화를 일어나야 할 지 알려주는 객체라면, reducer는 그 정보를 받고 애플리케이션의 상태를 어떻게 바꿀지 정의한다고 볼 수 있다.

순수함수란
* 외부 네트워크 혹은 데이터베이스에 접근하지 않아야 한다.
* return 값은 오직 parameter 값에만 의존되어야 한다.
* 인수는 변경되지 않아야한다.
* 같은 인수로 실행된 함수는 언제나 같은 결과를 반환해야 한다.
* 순수하지 않은 API 호출을 하지 말아야 한다.

- redux 컴포넌트인 `<Provider>` 에 store을 설정해주면 그 하위 컴포넌트들에 따로 parent-child 구조로 전달해주지 않아도 connect될 때 store에 접근 할 수 있게 해준다.
- `ContextAPI`는 `Provider` 로 감싸진 하위 컴포넌트들이 Provider에서 제공해주는 값들을 사용할 수 있게 해준다.

### middleware, redux-thunk, redux-saga
미들웨어는 액션이 디스패치 되어서 리듀서에서 이를 처리하기전에 사전에 지정된 작업들을 설정한다. 리듀서가 액션을 처리하기 전에 미들웨어가 할 수있는 작업들은 전달받은 액션을 콘솔에 기록할 수 있고, 전달받은 액션에 기반하여 액션을 아예 취소시켜버리거나, 다른 종류의 액션들을 추가적으로 디스패치 할 수도 있다.

redux-thunk는 액션 생성자를 작성하면 액션 대신에 함수가 반환된다. 액션을 디스패치할때 delay를 줄 수도 있고, 특정 조건이 만족 될 때 디스패치 할 수도 있다.
thunk는 표현식을 감싸고, 표현식 안에 있는 내용의 수행을 지연시킬 수 있는 함수이다.

saga는 애플리케이션에서 사이드 이펙트(data fetching, 브라우저 캐시에 접근하는 순수하지 않은 비동기 동작들)만을 담당하는 별도의 쓰레드와 같은 것으로 보면 된다.

redux-thunk와는 대조적으로 redux-saga는 콜백 지옥에 빠지지 않으면서 비동기 흐름들을 쉽게 테스트할 수 있고 액션들을 순수하게 유지한다.

### redux는 velopert 님의 블로그를 보고 공부하였습니다.
[참고자료](https://velopert.com/1226)
